我从版本1升到2极大简化了逻辑和入参。因此，原本的old-test/indes.test.ts和测试用类old-test/misc.ts已经不再适用；
请你根据这两者的思想和功能，重新编写一测试文件和测试用的工具（可以不是class），新文件放在tests文件夹中。

---

测试文件我全部都删除了。请你重新写测试，要求：

1. 有一个测试工具，这个工具会把待处理的.d.ts文件转换为入参传入我写的插件里
2. 编写多种场景的样例，用vitest的那一套写，文件名index.test.ts
3. 对测试各种场景用的测试文件，放在tests/mock文件夹下，里面放各种场景的.d.ts文件
4. 测试文件中要有对错误场景的测试
5. 测试文件中要有对替换功能的测试
6. 测试文件中要有对合并功能的测试
7. 测试文件中要有对入参功能的测试
8. 测试文件中要有对边界场景的测试
9. 测试文件中要有对文件不存在场景的测试
10. 插件输出的目录是tests/output
